<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="alternate" type="application/atom+xml" title="Atom Feed"  href="https://btbytes.github.io/atom.xml" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="dcterms.date" content="2020-05-12" />
  <title>A few interesting things</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<nav>
  <span><a href="index.html" title="Home">Home</a></span> ◊ <span><a href="index.html#tags">Tags</a></span> ◊ <span><a href="index.html#archive">Archive</a></span> ◊ <span><a href="/atom.xml">Feed</a></span>
</nav>
<article>

<header id="title-block-header">
<h1 class="title">A few interesting things</h1>
<p class="date">2020-05-12</p>
</header>
<p><a href="http://eradman.com/entrproject/">entr</a> is nice tool to add to the repertoire of scripting and make files. One of the examples given on that page is to use this program to watch over HTML+CSS file when you are editing one. I am thinking of using this to create a kind of “markdown live editor”, which uses pandoc to render markdown to html.</p>
<p>¶</p>
<p>I posted a <a href="https://cons.io">gerbil scheme</a> to <a href="https://lobste.rs/s/c29wn2/gerbil_scheme">lobst.rs</a> where the creator of <a href="https://fennel-lang.org/">Fennel Lang</a> posted a link which lead to this <a href="https://git.sr.ht/~technomancy/fennel-lang.org/tree/master/makefile">rich makefile</a> which is worthy of studying.</p>
<p>For instance, this line: <code>reference.html: fennel/reference.md ; $(PANDOC) --toc -o $@ $^</code>. I believe this means I can write one line “actions” followed by semi-colon.</p>
<p>The other thing that Makefile reminded me of is the <code>--lua-filter</code>. Pandoc ships with a lua interpreter, which makes it easy to write post processing filters without needing an additional software installed (eg: for python, you still need some kind Pandoc library).</p>
<p><em>Each Lua filter must contain element-transforming functions indexed by the name of the AST element on which the filter function should be applied.</em></p>
<p><em>The pandoc Lua module provides helper functions for element creation. It is always loaded into the script’s Lua environment.</em></p>
<p><em>The following is an example Lua script for macro-expansion:</em></p>
<pre><code>function expand_hello_world(inline)
  if inline.c == &#39;{{helloworld}}&#39; then
    return pandoc.Emph{ pandoc.Str &quot;Hello, World&quot; }
  else
    return inline
  end
end

return {{Str = expand_hello_world}}</code></pre>
<p>Important thing to remember from above snippet:</p>
<p>Make sure you are “indexing” the functions by the AST element (above, the function <code>expand_hello_world</code> is indexed to <code>Str</code> AST element type). ¶</p>
<p>Data science courses of Dr Michael Guerzhoy at Princeton <a href="http://guerzhoy.princeton.edu/201s20/">SML201</a> has good intro material based on R. ¶</p>
<p>Started using <a href="https://www.barebones.com/products/bbedit/index.html">bbedit</a> more.I even configured the scripts that help me in editing this blog to use bbedit directly. I really like (much like Textwrangler’s) ability to “Untitled” buffers as a quick way to start writing without worrying about losing them if I close the editor without saving them to a file. ¶</p>
<p><a href="index.html#interesting" class="tag interesting">interesting</a></p>
</article>
<footer>
  <p>Made with <a href="https://github.com/btbytes/btbytes.github.io/blob/master/bari">bari</a> with help from <a href="https://pandoc.org">pandoc</a>, <a href="https://www.gnu.org/software/make/">make</a> and <a href="https://www.python.org">python</a> </p>
</footer>
<script data-goatcounter="https://btbytes-github.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
